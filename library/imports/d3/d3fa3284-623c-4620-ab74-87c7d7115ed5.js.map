{"version":3,"sources":["assets/resources/script/Player/Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const AttributeCfg = [\n    { hp: '生命', },\n    { attack: '攻击', },\n    { defense: '防御', },\n    { hit: '命中', },\n    { dodge: '闪避', },\n    { crit: '暴击', },\n    { critHurt: '暴击伤害', },\n    { holdout: '负面抗性', },\n    { hpBack: '生命恢复', },\n    { materialDrop: '物品掉落', },\n    { goldDrop: '金币掉落', },\n    { expPlus: '经验加层', },\n]\n\nconst EquipCfg = [\n    { helmet: '头盔' },\n    { necklace: '项链' },\n    { clothing: '衣服' },\n    { glove: '手套' },\n    { pants: '裤子' },\n    { ring: '戒子' },\n    { weapon: '武器' },\n    { shoe: '鞋子' },\n]\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Player extends cc.Component {\n\n    @property(cc.Node)\n    content: cc.Node = null\n\n    @property(cc.Node)\n    item: cc.Node = null\n\n    info = {\n        /* 生命 */hp: 100,\n        /* 攻击 */attack: 20,\n        /* 防御 */defense: 8,\n        /* 命中 */hit: 35,\n        /* 闪避 */dodge: 3,\n        /* 暴击 */crit: 56,\n        /* 暴击伤害 */critHurt: 88,\n        /* 负面抗性 */holdout: 70,\n        /* 生命恢复 */hpBack: 20,\n        /* 物品掉落 */materialDrop: 150,\n        /* 物品掉落 */goldDrop: 150,\n        /* 经验加层 */expPlus: 230,\n    }\n    onLoad() {\n        this.node.onenter = this.onenter.bind(this)\n\n        this.createAttribute()\n    }\n\n    createAttribute() {\n        this.content.removeAllChildren()\n        for (let i = 0; i < AttributeCfg.length / 2; i++) {\n            let cloneItem = cc.instantiate(this.item)\n            cloneItem.parent = this.content\n        }\n    }\n\n    onenter() {\n        this.updateAttribute()\n        this.updateEquip()\n    }\n\n    getDataByIdx(idx) {\n        let data = []\n        for (let i in AttributeCfg[idx]) {\n            let d = { title: AttributeCfg[idx][i], val: this.info[i] }\n            data.push(d)\n        }\n        for (let i in AttributeCfg[idx + AttributeCfg.length / 2]) {\n            let d = { title: AttributeCfg[idx + AttributeCfg.length / 2][i], val: this.info[i] }\n            if (idx > 2) { d.val += '%' }\n            data.push(d)\n        }\n        return data\n    }\n\n    updateAttribute() {\n        this.content.EachChild((item: cc.Node, index) => {\n            let data = this.getDataByIdx(index)\n            item.EachChild((it, idx) => {\n                it.getComponent(cc.Label).string = `${data[idx].title}: ${data[idx].val}`\n            })\n        })\n    }\n\n    updateEquip() {\n    }\n}\n"]}