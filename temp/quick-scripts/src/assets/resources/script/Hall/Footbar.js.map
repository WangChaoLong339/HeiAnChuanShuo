{"version":3,"sources":["assets/resources/script/Hall/Footbar.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAM,OAAO,GAAG;IACZ,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE;IAC3B,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE;IAC7B,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE;IAC/B,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE;IAC5B,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE;CAC/B,CAAA;AAEK,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAqC,2BAAY;IAAjD;QAAA,qEAuCC;QApCG,YAAM,GAAY,IAAI,CAAC;QAGvB,UAAI,GAAY,IAAI,CAAC;;IAiCzB,CAAC;IA9BG,wBAAM,GAAN;QACI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,UAAU,EAAE,CAAA;QACjB,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,4BAAU,GAAV;QACI,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAA;QAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,IAAI,SAAS,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACzC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,KAAG,OAAO,CAAC,CAAC,CAAC,CAAC,IAAM,CAAA;YAClE,SAAS,CAAC,GAAG,GAAG,CAAC,CAAA;YACjB,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;SACjC;IACL,CAAC;IAES,+BAAa,GAAvB;QAAA,iBAIC;QAHG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,EAAE,EAAE,GAAG;YACjC,EAAE,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,CAAC,CAAC,CAAA;IACN,CAAC;IAED,2BAAS,GAAT,UAAU,CAAC;QACP,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;YAAE,OAAM;SAAE;QAChD,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAA;QAC1C,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;QAChC,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,KAAK,CAAC,IAAI,CAAI,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,oBAAiB,CAAC,CAAA;IACjE,CAAC;IAnCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACK;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yCACG;IANJ,OAAO;QAD3B,OAAO;OACa,OAAO,CAuC3B;IAAD,cAAC;CAvCD,AAuCC,CAvCoC,EAAE,CAAC,SAAS,GAuChD;kBAvCoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["const HallCfg = [\n    { name: '主页', pfb: 'Home' },\n    { name: '角色', pfb: 'Player' },\n    { name: '背包', pfb: 'Backpack' },\n    { name: '技能', pfb: 'Skill' },\n    { name: '其他', pfb: 'Other' },\n]\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Footbar extends cc.Component {\n\n    @property(cc.Node)\n    layout: cc.Node = null;\n\n    @property(cc.Node)\n    item: cc.Node = null;\n\n    currPageIdx: number\n    onLoad(): void {\n        this.currPageIdx = 0;\n        this.createItem()\n        this.updateButtons();\n    }\n\n    createItem() {\n        this.layout.removeAllChildren()\n        for (let i = 0; i < HallCfg.length; i++) {\n            let cloneItem = cc.instantiate(this.item)\n            cloneItem.PathChild('val', cc.Label).string = `${HallCfg[i].name}`\n            cloneItem.idx = i\n            cloneItem.parent = this.layout\n        }\n    }\n\n    protected updateButtons(): void {\n        this.layout.children.forEach((it, idx) => {\n            it.getComponent('MultiFrame').SetFrame(idx == this.currPageIdx ? 1 : 0);\n        })\n    }\n\n    clickItem(e) {\n        if (this.currPageIdx == e.target.idx) { return }\n        UiMgr.close(HallCfg[this.currPageIdx].pfb)\n        this.currPageIdx = e.target.idx;\n        this.updateButtons();\n\n        UiMgr.show(`${HallCfg[this.currPageIdx].pfb}|topbar|footbar`)\n    }\n}\n"]}