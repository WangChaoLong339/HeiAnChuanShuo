{"version":3,"sources":["assets/resources/script/Skill/Skill.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const SkillCfg = [\n    { name: '重击', limit: 1, icon: 0, string: '对敌人造成150%伤害' },\n    { name: '火炎弹', limit: 8, string: '发射一个火球造成130%伤害,对敌人造成60%烧伤伤害持续2回合', icon: 1 },\n    { name: '狂怒', limit: 16, string: '对敌人造成100%伤害,降低敌人30%攻击,持续3回合', icon: 2 },\n    { name: '旋风斩', limit: 24, string: '对敌人造成2次60%伤害使目标眩晕1回合', icon: 3 },\n    { name: '魔法护盾', limit: 32, string: '防御提升30%,持续4回合', icon: 4 },\n    { name: '雷暴', limit: 38, string: '召唤雷电打击敌人,造成150%伤害,使敌人受到90%电击伤害持续2回合', icon: 5 },\n    { name: '嗜血', limit: 42, string: '对敌人造成200%伤害,吸收20%基础伤害转化为自己的生命', icon: 6 },\n    { name: '重击(高级)', limit: 52, string: '对敌人造成240%伤害', icon: 0 },\n    { name: '火炎弹(高级)', limit: 58, string: '发射一个火球造成200%伤害,对敌人造成70%烧伤伤害持续3回合', icon: 1 },\n    { name: '狂怒(高级)', limit: 64, string: '对敌人造成220%伤害,降低敌人35%攻击,持续3回合', icon: 2 },\n    { name: '旋风斩(高级)', limit: 74, string: '对敌人造成2次100%伤害使目标眩晕1回合', icon: 3 },\n    { name: '魔法护盾(高级)', limit: 80, string: '防御提升50%,持续5回合', icon: 4 },\n    { name: '雷暴(高级)', limit: 100, string: '召唤雷电打击敌人,造成230%伤害,使敌人受到110%电击伤害持续2回合', icon: 5 },\n    { name: '嗜血(高级)', limit: 300, string: '对敌人造成240%伤害,吸收30%基础伤害转化为自己的生命', icon: 6 },\n    { name: '重击(终级)', limit: 500, string: '对敌人造成300%伤害', icon: 0 },\n    { name: '火炎弹(终级)', limit: 700, string: '发射一个火球造成240%伤害,对敌人造成90%烧伤伤害持续4回合', icon: 1 },\n    { name: '狂怒(终级)', limit: 800, string: '对敌人造成260%伤害,降低敌人40%攻击,持续3回合', icon: 2 },\n    { name: '旋风斩(终级)', limit: 1000, string: '对敌人造成2次120%伤害使目标眩晕1回合', icon: 3 },\n    { name: '魔法护盾(终级)', limit: 1200, string: '防御提升60%,持续5回合', icon: 4 },\n    { name: '雷暴(终级)', limit: 1400, string: '召唤雷电打击敌人,造成260%伤害,使敌人受到130%电击伤害持续2回合', icon: 5 },\n]\n\nconst SkillColor = {\n    Normol: '#ffdd8c',\n    Forbid: '#ff0000',\n}\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Skill extends cc.Component {\n\n    @property(cc.Node)\n    content: cc.Node = null;\n\n    @property(cc.Node)\n    item: cc.Node = null;\n\n    info = []\n    onLoad() {\n        this.node.onenter = this.onenter.bind(this)\n\n        this.info = GetLocalStorage('skill_info', [])\n\n        this.createSkillItem()\n    }\n\n    createSkillItem() {\n        this.content.removeAllChildren()\n\n        for (let i = 0; i < SkillCfg.length; i++) {\n            let d = SkillCfg[i]\n            let cloneItem = cc.instantiate(this.item)\n            let achieve = d.limit <= PlayerInfo.level\n            cloneItem.PathChild('icon', 'MultiFrame').SetFrame(d.icon)\n            cloneItem.PathChild('skillname', cc.Label).string = `${d.name}`\n            cloneItem.PathChild('limit', cc.Label).string = `等级${d.limit}`\n            cloneItem.PathChild('limit').color = achieve ? cc.color(255, 221, 140) : cc.color(255, 0, 0)\n            cloneItem.PathChild('des', cc.Label).string = `${d.string}`\n            cloneItem.PathChild('mask').active = !achieve\n            cloneItem.PathChild('select').active = achieve\n            cloneItem.PathChild('select', 'MultiFrame').SetFrame(this.info.indexOf(i) == -1 ? 0 : 1)\n            cloneItem.idx = i\n            cloneItem.parent = this.content\n        }\n    }\n\n    onenter() {\n    }\n\n    updateSkillItem() {\n        this.content.EachChild((it, idx) => {\n            it.PathChild('select', 'MultiFrame').SetFrame(this.info.indexOf(idx) == -1 ? 0 : 1)\n        })\n    }\n\n    clickItem(e) {\n        let existIdx = this.info.indexOf(e.target.parent.idx)\n        if (existIdx != -1) {\n            this.info.splice(existIdx, 1)\n            this.updateSkillItem()\n            return\n        }\n        if (this.info.length == 3) {\n            return\n        }\n        this.info.push(e.target.parent.idx)\n        this.info.sort((a, b) => { return a - b })\n        console.log(this.info)\n        this.updateSkillItem()\n    }\n}\n"]}